
%%%% contact via <kisfg@hotmail.com, haikureimu@hnu.edu.cn>
% tikzcd 和 dvipdfmx 冲突的处理方法：https://fohte.hateblo.jp/entry/2017/02/03/130829
% 在documentclass处提供dvipdfmx的选项。
% 必须要包含，否则无法插入 png。
\documentclass[12pt,a4paper, dvipdfmx]{article}

\input{format/package}
\input{format/setup}
\input{format/cover}
\graphicspath{{figures/}}

\addbibresource[location=local]{refer.bib}
\begin{document}
    \begin{CJK*}{UTF8}{song}
        \frontmatter
        %%% 前几页必要内容
        \makeheaders
        %%% 目录
        \tableofcontents
        \newpage
        %%%% TODO: 写成如果存在，则渲染。否则不渲染的判断形式。
        %%% 插图索引 可选项
        \renewcommand{\numberline}[1]{图~#1~~}
        \addcontentsline{toc}{section}{插图索引}
        \listoffigures
        \clearpage
        %%% 附表索引 可选项
        \renewcommand{\numberline}[1]{表~#1~~}
        \addcontentsline{toc}{section}{附表索引}
        \listoftables
        \clearpage
        %%% 正文
        \mainmatter
        % 防止文字出界而自动调整的环境。
        \begin{sloppypar} 
            \setcounter{page}{1}
            \include{sections/1intro}
            \include{sections/2relatedwork}
            \include{sections/3ourwork}
            \include{sections/4experiment}
            \include{sections/5discussion}
            \include{sections/6conclusion}
            %%% 参考文献
            \newpage
            \nocite{*}
            \addcontentsline{toc}{section}{参考文献}
            \wuhao
            \printbibliography[
                heading=bibliography,
                title={\centerline{\sanhao\hei{参考文献}}\vspace{-1em}},
            ]
            %%% 致谢和附录
            \xiaosi{\include{sections/acknowledge}}
        \end{sloppypar}
    \end{CJK*}
\end{document}